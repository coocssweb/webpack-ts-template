"use strict";(self.webpackChunkwebpack_ts_template=self.webpackChunkwebpack_ts_template||[]).push([[592],{177:(t,e,s)=>{s.d(e,{ZP:()=>v});const i=()=>{};let n=()=>{let t=document.createElement("fake_a_element"),e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(let s in e)if(void 0!==t.style[s])return n=()=>e[s],e[s]};class o{static defaultOptions={message:"",duration:3e3,theme:"default",closable:!1,callback:i};static prefix="globalTip";constructor(t){t={...o.defaultOptions,...t},this.createElement(t),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this),this.animationEvent=n(),this.bindEvents(),t.duration&&(this.timeId=setTimeout((()=>{this.close()}),t.duration))}createElement(t){this.$dom=document.createElement("div"),this.$dom.classList.add(o.prefix),this.$dom.classList.add(`${o.prefix}--${t.theme}`);const e=document.createElement("div");e.classList.add(`${o.prefix}-content`),e.innerHTML=t.message,this.$dom.append(e),t.closable&&(this.$dom.classList.add(`${o.prefix}--closable`),this.$domClosable=document.createElement("i"),this.$domClosable.classList.add(`${o.prefix}-close`),e.append(this.$domClosable)),document.body.appendChild(this.$dom)}bindEvents(){this.$dom.addEventListener(this.animationEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.addEventListener("click",this.handleCloseClick)}unbindEvents(){this.$dom.removeEventListener(this.animationEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.removeEventListener("click",this.handleCloseClick)}destory(){this.timeId&&(clearTimeout(this.timeId),this.timeId=null),this.unbindEvents(),document.body.removeChild(this.$dom)}handleTransitionEnd(t){t.target===t.currentTarget&&this.$dom.classList.contains("doOut")&&this.destory()}handleCloseClick(){this.close()}close(){this.$dom.classList.add("doOut")}}const a=(()=>{const t=navigator.userAgent.toLowerCase();return{isWeibo(){const e=/weibo/.test(t);return this.isWeibo=()=>e,e},isWechat(){const e=/micromessenger/.test(t)&&!/wxwork/.test(t);return this.isWechat=()=>e,e},isQQ(){const e=/qq\//gi.test(t);return this.isQQ=()=>e,e},isQZone(){const e=/qzone\//gi.test(t);return this.isQZone=()=>e,e},isAndroid(){const e=/android/.test(t);return this.isAndroid=()=>e,e},isIos(){const e=/iphone|ipad|ipod/.test(t);return this.isIos=()=>e,e},isIphoneX(){const t=this.isIos()&&375===window.screen.width&&812===window.screen.height;return this.isIphoneX=()=>t,t}}})();class d{static stringifyQuery(t){return Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}static parseHost(t){let e=80,s="";s=t=t.replace(/\/\//gi,"/");let i=t.indexOf("/");return-1!==i&&(s=t.substring(0,i)),i=s.indexOf(":"),-1!==i&&(e=parseInt(s.substring(i+1,s.length)||"80"),s=s.substring(0,i)),{hostname:s,port:e}}static parseQuery(t){const e={},s=t.split(/\?|\#/);return s.length>1&&s[1].split("&").forEach((t=>{const s=t.split("=");e[s[0]]=decodeURIComponent(s[1])})),e}static parsePath(t){let e="";const s=t.indexOf("/")+1;if(-1===s)return"";let i=(t=t.replace(/\?|\#/,"?")).indexOf("/",s);return e=-1===i?"":t.substring(s,i),e}static parse(t){let e=t.indexOf("://");-1!==e&&(t=t.substring(e+3,t.length));const{hostname:s,port:i}=this.parseHost(t);return{hostname:s,port:i,path:this.parsePath(t),query:this.parseQuery(t)}}static format(t){const e=t.port?`:${t.port}`:"";return`${t.protocol||"http"}://${t.hostname}${e}${t.path}?${d.stringifyQuery(t.query)}`}}class r{static formatURL(t){let e="";if("string"==typeof t&&0===t.indexOf("http"))e=t;else if("string"==typeof t){const s=d.parse(window.location.href),i=80===s.port?"":`:${s.port}`,n=""===s.path?"":`${s.path}/`,o=-1===t.indexOf("/")?n:"";e=`${document.location.protocol}//${s.hostname}${i}/${o}${t}`}else e=d.format(t);return e}static push(t){window.location.href=r.formatURL(t)}static replace(t){window.location.replace(r.formatURL(t))}static goBack(){a.isIos()&&document.referrer?r.replace(document.referrer):window.history.go(-1)}static reload(){window.location.reload()}}class l{static prefix="globalMask";static animationEvent=n();static open(){l.$domMask||(l.$domMask=document.createElement("div"),l.$domMask.classList.add(l.prefix),l.$domMask.addEventListener(l.animationEvent,(()=>{l.$domMask.classList.contains("doOut")&&(l.$domMask.classList.remove("doIn"),l.$domMask.classList.remove("doOut"))})),document.body.append(l.$domMask)),l.$domMask.classList.add("doIn")}static close(){l.$domMask.classList.add("doOut")}}class c{static prefix="globalConfirm";static defaultOptions={title:"",closable:!0,content:"",width:500,okLabel:"确认",cancelLabel:"取消",okCallback:i,cancelCallback:i};constructor(t){this.options={...c.defaultOptions,...t},this.handleOkClick=this.handleOkClick.bind(this),this.handleCancelClick=this.handleCancelClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.transitionEvent=n(),this.createElement(),this.bindEvents()}createElement(){this.$domContainer=document.createElement("div"),this.$domContainer.classList.add(c.prefix);const t=this.createHeaderElement(),e=document.createElement("div");e.classList.add(`${c.prefix}-content`),e.innerHTML=this.options.content;const s=this.createFooterElement();this.$domContainer.appendChild(t),this.$domContainer.appendChild(e),s&&this.$domContainer.appendChild(s),l.open(),document.body.append(this.$domContainer),this.$domContainer.style.marginTop=`-${this.$domContainer.clientHeight/2}px`}createHeaderElement(){const t=document.createElement("div");if(t.classList.add(`${c.prefix}-header`),this.options.title){const e=document.createElement("div");e.classList.add(`${c.prefix}-title`),e.innerHTML=this.options.title,t.appendChild(e)}return this.options.closable&&(this.$domClosable=document.createElement("i"),this.$domClosable.classList.add(`${c.prefix}-close`),this.$domContainer.append(this.$domClosable)),t}createFooterElement(){if(!(this.options.okLabel||this.options.cancelLabel))return;let t=document.createElement("div");return t.classList.add(`${c.prefix}-footer`),this.options.okLabel&&(this.$domOk=document.createElement("button"),this.$domOk.innerHTML=this.options.okLabel,this.$domOk.classList.add(`${c.prefix}-btn`),this.$domOk.classList.add(`${c.prefix}-btn--ok`),t.appendChild(this.$domOk)),this.options.cancelLabel&&(this.$domCancel=document.createElement("button"),this.$domCancel.innerHTML=this.options.cancelLabel,this.$domCancel.classList.add(`${c.prefix}-btn`),this.$domCancel.classList.add(`${c.prefix}-btn--cancel`),t.appendChild(this.$domCancel)),t}bindEvents(){this.$domContainer.addEventListener(this.transitionEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.addEventListener("click",this.handleCloseClick),this.$domCancel&&this.$domCancel.addEventListener("click",this.handleCancelClick),this.$domOk&&this.$domOk.addEventListener("click",this.handleOkClick)}unbindEvents(){this.$domContainer.removeEventListener(this.transitionEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.removeEventListener("click",this.handleCloseClick),this.$domCancel&&this.$domCancel.removeEventListener("click",this.handleCancelClick),this.$domOk&&this.$domOk.removeEventListener("click",this.handleOkClick)}handleTransitionEnd(){this.$domContainer.classList.contains("doOut")&&this.destory()}destory(){this.unbindEvents(),document.body.removeChild(this.$domContainer)}async handleOkClick(){await this.options.okCallback(),this.close()}async handleCancelClick(){await this.options.cancelCallback(),this.close()}handleCloseClick(){this.close()}close(){this.$domContainer.classList.add("doOut"),l.close()}}const h=t=>{const{data:e,key:s,callback:n=i}=t;let o=e[s];Object.defineProperty(e,s,{get:()=>o,set(t){o!==t&&(n(t,o),o=t)}})};class m{trackPage(){}trackEvent(){}}class p{static prefix="__";splitCode="|_|";storage=localStorage||window.localStorage;static defauleExpiredTime=2592e6;constructor(){}getStorageKey(t){return`${p.prefix}${t}`}setItem(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.defauleExpiredTime;const i=this.getStorageKey(t),n=+new Date+s;this.storage.setItem(i,`${n}${this.splitCode}${e}`)}getItem(t){const e=this.getStorageKey(t),s=this.storage.getItem(e);if(s){const e=s.split(this.splitCode);if(+e[0]>+new Date)return e[1];this.removeItem(t)}return null}removeItem(t){const e=this.getStorageKey(t);this.storage.removeItem(e)}}const u=new p;let $=function(t){return t.Urlencoded="application/x-www-from-urlencoded",t.FormData="multipart/form-data",t}({});function C(t){t={...C.defaultOptions,...t};const e=new XMLHttpRequest;if(t.contentType=$.Urlencoded)if("get"===t.method){const e=Object.keys(t.data).map((e=>`${e}=${t.data[e]}`)).join("&");t.url=t.url.indexOf("?")>-1?`${t.url}&${e}`:`${t.url}?${e}`}else"post"===t.method&&(t.data=JSON.stringify(t.data));return e.open(t.method,t.url,t.async),""!==t.token&&e.setRequestHeader("Authorization",t.token),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.setRequestHeader("Accept","application/json"),Object.keys(t.header).forEach((s=>{e.setRequestHeader(s,t.header[s])})),t.xhrFields.withCredentials&&(e.withCredentials=t.xhrFields.withCredentials),!1===t.async?(e.send(t.data?t.data:null),200===e.status?e.responseText:void 0):new Promise(((s,i)=>{e.onreadystatechange=function(){4===e.readyState&&(e.status>=200&&e.status<=304?s(e.responseText):i(e.responseText))},e.send(t.data?t.data:null)}))}C.defaultOptions={url:"",method:"get",data:{},dataType:"json",contentType:$.Urlencoded,xhrFields:{withCredentials:!1},token:"",async:!0};const f=C;function k(t){if(!(t={...k.defaultOptions,...t}).url)return Promise.resolve(null);const e=document.createElement("script"),s="jsonp_"+ +new Date;t.jsonpCallback=s;const i=Object.keys(t.data).map((e=>{if("callback"!==e)return`${e}=${t.data[e]}`})).join("&"),n=`${t.url}${t.url.indexOf("?")>-1?"&":"?"}callback=${s}&${i}`;return e.setAttribute("src",n),new Promise(((t,i)=>{window[s]=i=>{delete window[s],document.head.removeChild(e),t(i)},document.head.appendChild(e)}))}k.defaultOptions={url:"",data:{}};const b=k;function E(t,e){this.data=t,this.watchs=e,this.$router=r,this.$route=d.parse(window.location.href),this.$statistic=m,this.$storage=u}E.prototype={bindEvents:i,init:i,$tip:function(t){new o(t)},$ajax:function(t){return f(t)},$jsonp:function(t){return b(t)},$confirm:function(t){return new c(t)},_init:function(){if(this.bindEvents(),this.data)for(let t in this.data)Object.defineProperty(this,t,{get(){return this.data[t]},set(e){this.data[t]=e}});if(this.watchs)for(let t in this.watchs)Object.defineProperty(this,t,{get(){return this.watchs[t]},set(e){this.watchs[t]=e}}),h({data:this.watchs,key:t,callback:this[`${t}Handler`].bind(this)});this.init()}},E.extends=function(){const t=E,e=function(t,e){E.call(this,t,e),this._init()};(e.prototype=Object.create(t.prototype)).constructor=e;for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return[...i].map((t=>{((t,e)=>{for(let s in e)e.hasOwnProperty(s)&&(t[s]=e[s])})(e.prototype,t)})),e};const w=E;class v{constructor(t){const e={...t},{data:s,watchs:i,...n}=e;return new(w.extends(n))(s,i)}}}}]);