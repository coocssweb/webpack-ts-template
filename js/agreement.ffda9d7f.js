"use strict";(self.webpackChunkwebpack_ts_template=self.webpackChunkwebpack_ts_template||[]).push([[917],{168:()=>{const t=()=>{};let e=()=>{let t=document.createElement("fake_a_element"),s={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(let i in s)if(void 0!==t.style[i])return e=()=>s[i],s[i]};class s{static defaultOptions={message:"",duration:3e3,theme:"default",closable:!1,callback:t};static prefix="globalTip";constructor(t){t={...s.defaultOptions,...t},this.createElement(t),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this),this.animationEvent=e(),this.bindEvents(),t.duration&&(this.timeId=setTimeout((()=>{this.close()}),t.duration))}createElement(t){this.$dom=document.createElement("div"),this.$dom.classList.add(s.prefix),this.$dom.classList.add(`${s.prefix}--${t.theme}`);const e=document.createElement("div");e.classList.add(`${s.prefix}-content`),e.innerHTML=t.message,this.$dom.append(e),t.closable&&(this.$dom.classList.add(`${s.prefix}--closable`),this.$domClosable=document.createElement("i"),this.$domClosable.classList.add(`${s.prefix}-close`),e.append(this.$domClosable)),document.body.appendChild(this.$dom)}bindEvents(){this.$dom.addEventListener(this.animationEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.addEventListener("click",this.handleCloseClick)}unbindEvents(){this.$dom.removeEventListener(this.animationEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.removeEventListener("click",this.handleCloseClick)}destory(){this.timeId&&(clearTimeout(this.timeId),this.timeId=null),this.unbindEvents(),document.body.removeChild(this.$dom)}handleTransitionEnd(t){t.target===t.currentTarget&&this.$dom.classList.contains("doOut")&&this.destory()}handleCloseClick(){this.close()}close(){this.$dom.classList.add("doOut")}}const i=(()=>{const t=navigator.userAgent.toLowerCase();return{isWeibo(){const e=/weibo/.test(t);return this.isWeibo=()=>e,e},isWechat(){const e=/micromessenger/.test(t)&&!/wxwork/.test(t);return this.isWechat=()=>e,e},isQQ(){const e=/qq\//gi.test(t);return this.isQQ=()=>e,e},isQZone(){const e=/qzone\//gi.test(t);return this.isQZone=()=>e,e},isAndroid(){const e=/android/.test(t);return this.isAndroid=()=>e,e},isIos(){const e=/iphone|ipad|ipod/.test(t);return this.isIos=()=>e,e},isIphoneX(){const t=this.isIos()&&375===window.screen.width&&812===window.screen.height;return this.isIphoneX=()=>t,t}}})();class n{static stringifyQuery(t){return Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}static parseHost(t){let e=80,s="";s=t=t.replace(/\/\//gi,"/");let i=t.indexOf("/");return-1!==i&&(s=t.substring(0,i)),i=s.indexOf(":"),-1!==i&&(e=parseInt(s.substring(i+1,s.length)||"80"),s=s.substring(0,i)),{hostname:s,port:e}}static parseQuery(t){const e={},s=t.split(/\?|\#/);return s.length>1&&s[1].split("&").forEach((t=>{const s=t.split("=");e[s[0]]=decodeURIComponent(s[1])})),e}static parsePath(t){let e="";const s=t.indexOf("/")+1;if(-1===s)return"";let i=(t=t.replace(/\?|\#/,"?")).indexOf("/",s);return e=-1===i?"":t.substring(s,i),e}static parse(t){let e=t.indexOf("://");-1!==e&&(t=t.substring(e+3,t.length));const{hostname:s,port:i}=this.parseHost(t);return{hostname:s,port:i,path:this.parsePath(t),query:this.parseQuery(t)}}static format(t){const e=t.port?`:${t.port}`:"";return`${t.protocol||"http"}://${t.hostname}${e}${t.path}?${n.stringifyQuery(t.query)}`}}class o{static formatURL(t){let e="";if("string"==typeof t&&0===t.indexOf("http"))e=t;else if("string"==typeof t){const s=n.parse(window.location.href),i=80===s.port?"":`:${s.port}`,o=""===s.path?"":`${s.path}/`,a=-1===t.indexOf("/")?o:"";e=`${document.location.protocol}//${s.hostname}${i}/${a}${t}`}else e=n.format(t);return e}static push(t){window.location.href=o.formatURL(t)}static replace(t){window.location.replace(o.formatURL(t))}static goBack(){i.isIos()&&document.referrer?o.replace(document.referrer):window.history.go(-1)}static reload(){window.location.reload()}}class a{static prefix="globalMask";static animationEvent=e();static open(){a.$domMask||(a.$domMask=document.createElement("div"),a.$domMask.classList.add(a.prefix),a.$domMask.addEventListener(a.animationEvent,(()=>{a.$domMask.classList.contains("doOut")&&(a.$domMask.classList.remove("doIn"),a.$domMask.classList.remove("doOut"))})),document.body.append(a.$domMask)),a.$domMask.classList.add("doIn")}static close(){a.$domMask.classList.add("doOut")}}class d{static prefix="globalConfirm";static defaultOptions={title:"",closable:!0,content:"",width:500,okLabel:"确认",cancelLabel:"取消",okCallback:t,cancelCallback:t};constructor(t){this.options={...d.defaultOptions,...t},this.handleOkClick=this.handleOkClick.bind(this),this.handleCancelClick=this.handleCancelClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.transitionEvent=e(),this.createElement(),this.bindEvents()}createElement(){this.$domContainer=document.createElement("div"),this.$domContainer.classList.add(d.prefix);const t=this.createHeaderElement(),e=document.createElement("div");e.classList.add(`${d.prefix}-content`),e.innerHTML=this.options.content;const s=this.createFooterElement();this.$domContainer.appendChild(t),this.$domContainer.appendChild(e),s&&this.$domContainer.appendChild(s),a.open(),document.body.append(this.$domContainer),this.$domContainer.style.marginTop=`-${this.$domContainer.clientHeight/2}px`}createHeaderElement(){const t=document.createElement("div");if(t.classList.add(`${d.prefix}-header`),this.options.title){const e=document.createElement("div");e.classList.add(`${d.prefix}-title`),e.innerHTML=this.options.title,t.appendChild(e)}return this.options.closable&&(this.$domClosable=document.createElement("i"),this.$domClosable.classList.add(`${d.prefix}-close`),this.$domContainer.append(this.$domClosable)),t}createFooterElement(){if(!(this.options.okLabel||this.options.cancelLabel))return;let t=document.createElement("div");return t.classList.add(`${d.prefix}-footer`),this.options.okLabel&&(this.$domOk=document.createElement("button"),this.$domOk.innerHTML=this.options.okLabel,this.$domOk.classList.add(`${d.prefix}-btn`),this.$domOk.classList.add(`${d.prefix}-btn--ok`),t.appendChild(this.$domOk)),this.options.cancelLabel&&(this.$domCancel=document.createElement("button"),this.$domCancel.innerHTML=this.options.cancelLabel,this.$domCancel.classList.add(`${d.prefix}-btn`),this.$domCancel.classList.add(`${d.prefix}-btn--cancel`),t.appendChild(this.$domCancel)),t}bindEvents(){this.$domContainer.addEventListener(this.transitionEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.addEventListener("click",this.handleCloseClick),this.$domCancel&&this.$domCancel.addEventListener("click",this.handleCancelClick),this.$domOk&&this.$domOk.addEventListener("click",this.handleOkClick)}unbindEvents(){this.$domContainer.removeEventListener(this.transitionEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.removeEventListener("click",this.handleCloseClick),this.$domCancel&&this.$domCancel.removeEventListener("click",this.handleCancelClick),this.$domOk&&this.$domOk.removeEventListener("click",this.handleOkClick)}handleTransitionEnd(){this.$domContainer.classList.contains("doOut")&&this.destory()}destory(){this.unbindEvents(),document.body.removeChild(this.$domContainer)}async handleOkClick(){await this.options.okCallback(),this.close()}async handleCancelClick(){await this.options.cancelCallback(),this.close()}handleCloseClick(){this.close()}close(){this.$domContainer.classList.add("doOut"),a.close()}}const r=e=>{const{data:s,key:i,callback:n=t}=e;let o=s[i];Object.defineProperty(s,i,{get:()=>o,set(t){o!==t&&(n(t,o),o=t)}})};class l{trackPage(){}trackEvent(){}}class c{static prefix="__";splitCode="|_|";storage=localStorage||window.localStorage;static defauleExpiredTime=2592e6;constructor(){}getStorageKey(t){return`${c.prefix}${t}`}setItem(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.defauleExpiredTime;const i=this.getStorageKey(t),n=+new Date+s;this.storage.setItem(i,`${n}${this.splitCode}${e}`)}getItem(t){const e=this.getStorageKey(t),s=this.storage.getItem(e);if(s){const e=s.split(this.splitCode);if(+e[0]>+new Date)return e[1];this.removeItem(t)}return null}removeItem(t){const e=this.getStorageKey(t);this.storage.removeItem(e)}}const h=new c;let m=function(t){return t.Urlencoded="application/x-www-from-urlencoded",t.FormData="multipart/form-data",t}({});function p(t){t={...p.defaultOptions,...t};const e=new XMLHttpRequest;if(t.contentType=m.Urlencoded)if("get"===t.method){const e=Object.keys(t.data).map((e=>`${e}=${t.data[e]}`)).join("&");t.url=t.url.indexOf("?")>-1?`${t.url}&${e}`:`${t.url}?${e}`}else"post"===t.method&&(t.data=JSON.stringify(t.data));return e.open(t.method,t.url,t.async),""!==t.token&&e.setRequestHeader("Authorization",t.token),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.setRequestHeader("Accept","application/json"),Object.keys(t.header).forEach((s=>{e.setRequestHeader(s,t.header[s])})),t.xhrFields.withCredentials&&(e.withCredentials=t.xhrFields.withCredentials),!1===t.async?(e.send(t.data?t.data:null),200===e.status?e.responseText:void 0):new Promise(((s,i)=>{e.onreadystatechange=function(){4===e.readyState&&(e.status>=200&&e.status<=304?s(e.responseText):i(e.responseText))},e.send(t.data?t.data:null)}))}p.defaultOptions={url:"",method:"get",data:{},dataType:"json",contentType:m.Urlencoded,xhrFields:{withCredentials:!1},token:"",async:!0};const u=p;function $(t){if(!(t={...$.defaultOptions,...t}).url)return Promise.resolve(null);const e=document.createElement("script"),s="jsonp_"+ +new Date;t.jsonpCallback=s;const i=Object.keys(t.data).map((e=>{if("callback"!==e)return`${e}=${t.data[e]}`})).join("&"),n=`${t.url}${t.url.indexOf("?")>-1?"&":"?"}callback=${s}&${i}`;return e.setAttribute("src",n),new Promise(((t,i)=>{window[s]=i=>{delete window[s],document.head.removeChild(e),t(i)},document.head.appendChild(e)}))}$.defaultOptions={url:"",data:{}};const C=$;function f(t,e){this.data=t,this.watchs=e,this.$router=o,this.$route=n.parse(window.location.href),this.$statistic=l,this.$storage=h}f.prototype={bindEvents:t,init:t,$tip:function(t){new s(t)},$ajax:function(t){return u(t)},$jsonp:function(t){return C(t)},$confirm:function(t){return new d(t)},_init:function(){if(this.bindEvents(),this.data)for(let t in this.data)Object.defineProperty(this,t,{get(){return this.data[t]},set(e){this.data[t]=e}});if(this.watchs)for(let t in this.watchs)Object.defineProperty(this,t,{get(){return this.watchs[t]},set(e){this.watchs[t]=e}}),r({data:this.watchs,key:t,callback:this[`${t}Handler`].bind(this)});this.init()}},f.extends=function(){const t=f,e=function(t,e){f.call(this,t,e),this._init()};(e.prototype=Object.create(t.prototype)).constructor=e;for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return[...i].map((t=>{((t,e)=>{for(let s in e)e.hasOwnProperty(s)&&(t[s]=e[s])})(e.prototype,t)})),e};const b=f;new class{constructor(t){const e={...t},{data:s,watchs:i,...n}=e;return new(b.extends(n))(s,i)}}({data:{password:"",rePassword:""},watchs:{},bindEvents(){},init(){}})}},t=>{var e;e=168,t(t.s=e)}]);